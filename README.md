# GPT Web APP

## Описание
Данный проект представляет собой приложение, разработанное с использованием FastAPI и базы данных PostgreSQL. Приложение предоставляет API для выполнения определенных операций с использованием запросов HTTP.

Основной функционал приложения заключается в генерации описания к товарам на маркетплейсах при помощи нейросети GPT-3. Приложение имеет множество настроек и параметров благодаря которым можно получить описание во многих вариантах.

Также у приложения есть модуль для автоматической отправки логов на почту. В файлы логируются все запросы и ответы и отдельно отчет об ошибках. Все отчеты отправляются на почты указанные в файле "config.yaml".

## Установка и запуск
1. Установите необходимые зависимости, выполнив команду:
   ```bash
   pip install -r requirements.txt
   ```

2. Создайте базу данных PostgreSQL.

3. Укажите настройки подключения к базе данных в файле ".env.example".

4. Заполните остальные параметры и переименуйте файлы ".env.example" и "config.yaml.example", убрав в конце файла ".example"

5. Запустите приложение, выполнив команду:
   ```bash
   uvicorn main:app --host 0.0.0.0 --port 8000
   ```
   Приложение будет запущено на `http://localhost:8000`.

## API Endpoints

## **Описание**

API предоставляет возможность генерации описания продукта и наименования на основе заданных параметров. Пользователи могут отправлять запросы на генерацию описания, получать список всех запросов пользователя и получать детали конкретного запроса по его идентификатору.

## **Общая информация:**

- Базовый URL: **`http://<ваш URL>`**
- Требуется использование HTTP-метода POST для всех эндпоинтов

## **Аутентификация**

API не требует аутентификации.

## **Endpoints**

### **`POST /paid_generate_description`**

Генерирует описание продукта на основе заданных параметров.

**Заголовки**

- **`Content-Type: application/json`**

**Тело запроса**

```jsx
{
  "product_name": "string",
  "user_id": "string",
  "include_words": "string",
  "len_description": "string",
  "len_name": "string",
  "listing": "string",
  "formatted": "string",
  "style": "string"
}
```

**Параметры тела запроса**

- **`product_name`** (обязательный): Наименование продукта.
- **`user_id`** (обязательный): Идентификатор пользователя.
- **`include_words`**: Дополнительные слова для использования в описании (необязательно).
- **`len_description`**: Минимальная длина описания в символах (необязательно).
- **`len_name`**: Максимальная длина наименования в символах (необязательно).
- **`listing`**: Флаг использования списков (1 - использовать списки, 0 - не использовать списки) (необязательно).
- **`formatted`**: Флаг использования форматирования (1 - использовать форматирование, 0 - не использовать форматирование) (необязательно).
- **`style`**: Стиль описания (доступные стили: "classic_style", "humor_style", “dark_style”, “copywriter_style”) (необязательно).

**Успешный ответ (код 200)**

```json
{
  "id": 1
}
```

### **`POST /get_user_request`**

Возвращает список всех запросов пользователя.

**Заголовки**

- **`Content-Type: application/json`**

**Тело запроса**

```json
{
  "user_id": "string"
}
```

**Параметры тела запроса**

- **`user_id`** (обязательный): Идентификатор пользователя.

**Успешный ответ (код 200)**

```json
[
  {
    "id": 1,
    "user_id": "string",
    "request": "string",
    "response": {
      "description": "string",
      "name": "string"
    },
    "status": "string"
  },
  {
    "id": 2,
    "user_id": "string",
    "request": "string",
    "response": {
      "description": "string",
      "name": "string"
    },
    "status": "string"
  }
]
```

### **`POST /get_log`**

Возвращает детали конкретного запроса по его идентификатору.

**Заголовки**

- **`Content-Type: application/json`**

**Тело запроса**

```json
{
  "id": 1
}
```

**Параметры тела запроса**

- **`id`** (обязательный): Идентификатор запроса.

**Успешный ответ (код 200)**

## Поддержка
Если у вас возникли вопросы или проблемы, пожалуйста,  создайте issue в репозитории проекта.